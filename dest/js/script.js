"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}document.addEventListener("DOMContentLoaded",function(){var s=document.querySelector(".area"),t=(document.querySelector("#app"),document.querySelector(".start-menu")),r=document.querySelector(".mode-menu"),e=document.querySelector(".pair-menu"),o=document.querySelector(".sequence-menu"),d=document.querySelector(".playground"),l=document.querySelector(".losing"),f=document.querySelector(".winning"),n=document.querySelector(".other-games"),m=document.querySelector(".life-counter"),c=document.querySelector(".action-word"),i=document.querySelectorAll(".js-to-modes"),a=document.querySelectorAll(".js-to-mainpage"),p=document.querySelectorAll(".js-to-try-again"),u=document.querySelector(".js-to-pair-menu"),y=document.querySelector(".js-to-sequence-menu"),h=document.querySelectorAll(".js-to-pair-game"),g=document.querySelectorAll(".js-to-sequence-game"),I=document.querySelector(".js-to-other-games"),x=[t,r,e,o,d,l,f,n],_=["ü•∂","üç©","üòã","üòé","üòà","üëΩ","üëæ","üòâ","ü¶Ä","ü¶¥","üöÄ","‚è∞","üêò","üé±","üçâ","üçá","üê≥"],b=[],v=[],L={},S=3,E=0,A=0,C={coords:"",img:""},q={coords:"",img:""};function T(e){x.forEach(function(e){return e.classList.add("_hidden")}),e.classList.remove("_hidden")}function j(e){s.innerHTML="",b=[],C={coords:"",img:""},q={coords:"",img:""},A=E=0,S=3,s.classList.remove("area-hide"),m.innerHTML=S,L.mode=e,L.game="pair",p.forEach(function(e){e.setAttribute("data-mode",L.mode),e.setAttribute("data-game",L.game)});for(var t,r=e.split("x")[0],e=e.split("x")[1],o=(T(d),M(r,e),r),n=e,c=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),i=0;i<n*o/2;i++){for(var a="";!a&&b.length!==_.length;){var u=k(_);b.includes(u)||(a=u)}(function(e){var t=[];return t.push(w(e)),t.push(w(e)),b.push(e),t})(a).forEach(function(t){P(c).forEach(function(e){""===e.innerHTML&&e.appendChild(t)})})}(t=document.querySelectorAll(".card")).forEach(function(e){e.classList.add("_opened-deg")}),setTimeout(function(){t.forEach(function(e){e.classList.remove("_opened-deg")}),document.querySelectorAll(".card").forEach(function(e){e.addEventListener("click",function(){this.classList.add("_opened-deg"),""===C.coords&&""===C.img?(C.coords=this.parentNode.getAttribute("data-coords"),C.img=this.querySelector(".card-content").innerHTML,C.elem=this):(s.style.pointerEvents="none",q.coords=this.parentNode.getAttribute("data-coords"),q.img=this.querySelector(".card-content").innerHTML,q.elem=this,C.coords===q.coords?s.style.pointerEvents="auto":setTimeout(function(){C.img===q.img&&C.coords!==q.coords?(C.elem.classList.add("_finded"),q.elem.classList.add("_finded"),[C.elem,q.elem].forEach(function(e){var t;e=e,t=function(){_inherits(t,mojs.CustomShape);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"getShape",value:function(){return'<path d="M5.51132201,34.7776271 L33.703781,32.8220808 L44.4592855,6.74813038 C45.4370587,4.30369752 47.7185293,3 50,3 C52.2814707,3 54.5629413,4.30369752 55.5407145,6.74813038 L66.296219,32.8220808 L94.488678,34.7776271 C99.7034681,35.1035515 101.984939,41.7850013 97.910884,45.2072073 L75.9109883,63.1330483 L82.5924381,90.3477341 C83.407249,94.4217888 80.4739296,97.6810326 77.0517236,97.6810326 C76.0739505,97.6810326 74.9332151,97.3551083 73.955442,96.7032595 L49.8370378,81.8737002 L26.044558,96.7032595 C25.0667849,97.3551083 23.9260495,97.6810326 22.9482764,97.6810326 C19.3631082,97.6810326 16.2668266,94.4217888 17.4075619,90.3477341 L23.9260495,63.2960105 L2.08911601,45.2072073 C-1.98493875,41.7850013 0.296531918,35.1035515 5.51132201,34.7776271 Z" />'}}]),t}(),mojs.addShape("star",t),new mojs.Burst({left:0,top:0,radius:{6:72},angle:45,children:{shape:"star",radius:72/2.2,fill:"#FD7932",degreeShift:"stagger(0,0)",duration:1300,easing:"quad.out"},onComplete:function(){this.el.parentNode.removeChild(this.el)}}).tune(function(e){e=e.getBoundingClientRect();return{left:e.left+e.width/2,top:e.top+e.height/2}}(e)).setSpeed(3).replay()}),C.coords="",C.img="",q.coords="",q.img="",++A===E&&(s.classList.add("area-hide"),setTimeout(function(){T(f)},500))):([C.elem,q.elem].forEach(function(e){e.classList.remove("_opened-deg")}),C.coords="",C.img="",q.coords="",q.img="",H(),0===S&&T(l)),s.style.pointerEvents="auto"},800))})}),R("–ù–∞–π–¥–∏ –ø–∞—Ä—ã")},3e3),R("–ó–∞–ø–æ–º–∏–Ω–∞–π")}function O(e){s.innerHTML="",b=[],v=[],S=3,s.classList.remove("area-hide"),m.innerHTML=S,L.mode=e,L.game="sequence",p.forEach(function(e){e.setAttribute("data-mode",L.mode),e.setAttribute("data-game",L.game)});for(var r,t=e.split("x")[0],e=e.split("x")[1],o=(a.forEach(function(e){return e.classList.remove("_hidden")}),T(d),M(t,e),t),n=e,c=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),i=0;i<n*o;i++)!function(){for(var e="";!e&&b.length!==_.length;){var t=k(_);b.includes(t)||b.push(e=t)}var r=w(e);c.forEach(function(e){""===e.innerHTML&&e.appendChild(r)})}();document.querySelectorAll(".card").forEach(function(e){return e.classList.add("_opened")}),r=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),setTimeout(function(){P(r).forEach(function(e,t){setTimeout(function(){e.children[0].classList.add("_pathed"),v.push(e.getAttribute("data-coords"))},1e3*t)}),setTimeout(function(){var e,t;r.forEach(function(e){return e.children[0].classList.remove("_pathed")}),e=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),t=0,R("–ü–æ–≤—Ç–æ—Ä–∏ –ø—É—Ç—å"),e.forEach(function(e){e.addEventListener("click",function(){e.getAttribute("data-coords")===v[t]?(e.children[0].classList.add("_pathed"),++t===v.length&&setTimeout(function(){T(f)},500)):(e.children[0].classList.add("_error"),H(),setTimeout(function(){e.children[0].classList.remove("_error")},500),0===S&&T(l))})})},1e3*r.length+500)},1e3),R("–ó–∞–ø–æ–º–∏–Ω–∞–π")}function w(e){var t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");return t.classList.add("card"),r.classList.add("card-front"),o.classList.add("card-back"),n.classList.add("card-content"),n.innerHTML=e,r.appendChild(n),t.appendChild(r),t.appendChild(o),t}function k(e){return e[Math.floor(Math.random()*e.length)]}function P(e){for(var t,r,o=e.length-1;0<o;o--)t=Math.floor(Math.random()*(o+1)),r=e[o],e[o]=e[t],e[t]=r;return e}function M(e,t){for(var r=e*t,o=(E=r/2,11<r?"cell-xs":6<r?"cell-sm":"cell-md"),n=0;n<e;n++){var c=document.createElement("div");c.classList.add("row");for(var i=0;i<t;i++){var a=document.createElement("div");a.classList.add("cell"),a.classList.add(o),a.setAttribute("data-coords",n+1+"-"+(i+1)),c.appendChild(a)}s.appendChild(c)}}function H(){m.innerHTML=--S,m.classList.add("_break"),setTimeout(function(){m.classList.remove("_break")},1e3)}function R(e){c.classList.add("action-word__hidden"),setTimeout(function(){c.innerHTML=e,c.classList.remove("action-word__hidden")},100)}i.forEach(function(e){e.addEventListener("click",function(){return T(r)})}),a.forEach(function(e){e.addEventListener("click",function(){return T(t)})}),p.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-mode"),e=e.target.getAttribute("data-game");console.log(t,e),"pair"===e&&j(t),"sequence"===e&&O(t)})}),u.addEventListener("click",function(){return T(e)}),y.addEventListener("click",function(){return T(o)}),I.addEventListener("click",function(){return T(n)}),h.forEach(function(e){e.addEventListener("click",function(e){j(e.target.getAttribute("data-mode"))})}),g.forEach(function(e){e.addEventListener("click",function(e){O(e.target.getAttribute("data-mode"))})})});