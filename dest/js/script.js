"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.addEventListener("DOMContentLoaded",function(){var l=document.querySelector(".area"),t=document.querySelector(".start-menu"),r=document.querySelector(".mode-menu"),e=document.querySelector(".pair-menu"),n=document.querySelector(".sequence-menu"),m=document.querySelector(".playground"),f=document.querySelector(".losing"),h=document.querySelector(".winning"),o=document.querySelector(".other-games"),y=document.querySelector(".countdown"),g=document.querySelector(".life-counter"),c=document.querySelectorAll(".js-to-modes"),v=document.querySelectorAll(".js-to-mainpage"),L=document.querySelectorAll(".js-to-try-again"),a=document.querySelector(".js-to-pair-menu"),i=document.querySelector(".js-to-sequence-menu"),d=document.querySelectorAll(".js-to-pair-game"),s=document.querySelectorAll(".js-to-sequence-game"),u=document.querySelector(".js-to-other-games"),N=[t,r,e,n,m,f,h,o],p=["ðŸ¥¶","ðŸ©","ðŸ˜‹","ðŸ˜Ž","ðŸ˜ˆ","ðŸ‘½","ðŸ‘¾","ðŸ˜‰","ðŸ¦€","ðŸ¦´","ðŸš€","â°","ðŸ˜","ðŸŽ±","ðŸ‰","ðŸ‡","ðŸ³"],_=[],A=[],b={},E=3,S=0,q=0,T={coords:"",img:""},k={coords:"",img:""};function M(e){N.forEach(function(e){return e.classList.add("_hidden")}),e.classList.remove("_hidden")}function C(e){l.innerHTML="",_=[],T={coords:"",img:""},k={coords:"",img:""},q=S=0,E=3,l.classList.remove("area-hide"),g.innerHTML=E,y.classList.remove("_hidden"),document.querySelector(".countdown__light-1").style.visibility="hidden",document.querySelector(".countdown__light-2").style.visibility="hidden",document.querySelector(".countdown__light-3").style.visibility="hidden",b.mode=e,b.game="pair",L.forEach(function(e){e.setAttribute("data-mode",b.mode),e.setAttribute("data-game",b.game)});for(var t,r=e.split("x")[0],e=e.split("x")[1],n=(v.forEach(function(e){return e.classList.add("_hidden")}),M(m),3),o=(n-=1,document.querySelector(".countdown__light-3").style.visibility="visible",setInterval(function(){document.querySelector(".countdown__light-"+n).style.visibility="visible",1===n&&(clearInterval(o),setTimeout(function(){y.classList.add("_hidden"),g.classList.remove("_hidden"),v.forEach(function(e){return e.classList.remove("_hidden")})},800)),n--},1e3)),c=(x(r,e),r),a=e,i=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),d=0;d<a*c/2;d++){for(var s="";!s&&_.length!==p.length;){var u=w(p);_.includes(u)||(s=u)}(function(e){var t=[];return t.push(j(e)),t.push(j(e)),_.push(e),t})(s).forEach(function(t){I(i).forEach(function(e){""===e.innerHTML&&e.appendChild(t)})})}(t=document.querySelectorAll(".card")).forEach(function(e){e.classList.add("_opened-deg")}),setTimeout(function(){t.forEach(function(e){e.classList.remove("_opened-deg")}),document.querySelectorAll(".card").forEach(function(e){e.addEventListener("click",function(){this.classList.add("_opened-deg"),""===T.coords&&""===T.img?(T.coords=this.parentNode.getAttribute("data-coords"),T.img=this.querySelector(".card-content").innerHTML,T.elem=this):(l.style.pointerEvents="none",k.coords=this.parentNode.getAttribute("data-coords"),k.img=this.querySelector(".card-content").innerHTML,k.elem=this,T.coords===k.coords?l.style.pointerEvents="auto":setTimeout(function(){T.img===k.img&&T.coords!==k.coords?(T.elem.classList.add("_finded"),k.elem.classList.add("_finded"),T.coords="",T.img="",k.coords="",k.img="",++q===S&&(l.classList.add("area-hide"),setTimeout(function(){M(h)},500))):([T.elem,k.elem].forEach(function(e){e.classList.remove("_opened-deg")}),T.coords="",T.img="",k.coords="",k.img="",O(),0===E&&M(f)),l.style.pointerEvents="auto"},800))})})},3e3)}function H(e){l.innerHTML="",_=[],A=[],E=3,l.classList.remove("area-hide"),g.innerHTML=E,b.mode=e,b.game="sequence",L.forEach(function(e){e.setAttribute("data-mode",b.mode),e.setAttribute("data-game",b.game)});for(var r,t=e.split("x")[0],e=e.split("x")[1],n=(y.classList.add("_hidden"),v.forEach(function(e){return e.classList.remove("_hidden")}),M(m),x(t,e),t),o=e,c=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),a=0;a<o*n;a++)!function(){for(var e="";!e&&_.length!==p.length;){var t=w(p);_.includes(t)||_.push(e=t)}var r=j(e);c.forEach(function(e){""===e.innerHTML&&e.appendChild(r)})}();document.querySelectorAll(".card").forEach(function(e){return e.classList.add("_opened")}),I(r=_toConsumableArray(document.querySelectorAll(".cell[data-coords]"))).forEach(function(e,t){setTimeout(function(){e.children[0].classList.add("_pathed"),A.push(e.getAttribute("data-coords"))},1e3*t)}),setTimeout(function(){var e,t;r.forEach(function(e){return e.children[0].classList.remove("_pathed")}),e=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),t=0,e.forEach(function(e){e.addEventListener("click",function(){e.getAttribute("data-coords")===A[t]?(e.children[0].classList.add("_pathed"),++t===A.length&&setTimeout(function(){M(h)},500)):(e.children[0].classList.add("_error"),O(),setTimeout(function(){e.children[0].classList.remove("_error")},500),0===E&&M(f))})})},1e3*r.length+500)}function j(e){var t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");return t.classList.add("card"),r.classList.add("card-front"),n.classList.add("card-back"),o.classList.add("card-content"),o.innerHTML=e,r.appendChild(o),t.appendChild(r),t.appendChild(n),t}function w(e){return e[Math.floor(Math.random()*e.length)]}function I(e){for(var t,r,n=e.length-1;0<n;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e}function x(e,t){for(var r=e*t,n=(S=r/2,11<r?"cell-xs":6<r?"cell-sm":"cell-md"),o=0;o<e;o++){var c=document.createElement("div");c.classList.add("row");for(var a=0;a<t;a++){var i=document.createElement("div");i.classList.add("cell"),i.classList.add(n),i.setAttribute("data-coords",o+1+"-"+(a+1)),c.appendChild(i)}l.appendChild(c)}}function O(){g.innerHTML=--E,g.classList.add("_break"),setTimeout(function(){g.classList.remove("_break")},1e3)}c.forEach(function(e){e.addEventListener("click",function(){return M(r)})}),v.forEach(function(e){e.addEventListener("click",function(){return M(t)})}),L.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-mode"),e=e.target.getAttribute("data-game");console.log(t,e),"pair"===e&&C(t),"sequence"===e&&H(t)})}),a.addEventListener("click",function(){return M(e)}),i.addEventListener("click",function(){return M(n)}),u.addEventListener("click",function(){return M(o)}),d.forEach(function(e){e.addEventListener("click",function(e){C(e.target.getAttribute("data-mode"))})}),s.forEach(function(e){e.addEventListener("click",function(e){H(e.target.getAttribute("data-mode"))})})});