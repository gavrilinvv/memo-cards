"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.addEventListener("DOMContentLoaded",function(){var s=document.querySelector(".area"),t=document.querySelector(".start-menu"),r=document.querySelector(".mode-menu"),e=document.querySelector(".pair-menu"),n=document.querySelector(".sequence-menu"),u=document.querySelector(".playground"),l=document.querySelector(".losing"),m=document.querySelector(".winning"),o=document.querySelector(".other-games"),f=document.querySelector(".life-counter"),a=document.querySelectorAll(".js-to-modes"),i=document.querySelectorAll(".js-to-mainpage"),h=document.querySelectorAll(".js-to-try-again"),c=document.querySelector(".js-to-pair-menu"),d=document.querySelector(".js-to-sequence-menu"),y=document.querySelectorAll(".js-to-pair-game"),g=document.querySelectorAll(".js-to-sequence-game"),p=document.querySelector(".js-to-other-games"),L=[t,r,e,n,u,l,m,o],v=["🥶","🍩","😋","😎","😈","👽","👾","😉","🦀","🦴","🚀","⏰","🐘","🎱","🍉","🍇","🐳"],A=[],E=[],b={},S=3,_=0,q=0,T={coords:"",img:""},k={coords:"",img:""};function M(e){L.forEach(function(e){return e.classList.add("_hidden")}),e.classList.remove("_hidden")}function C(e){s.innerHTML="",A=[],T={coords:"",img:""},k={coords:"",img:""},q=_=0,S=3,s.classList.remove("area-hide"),f.innerHTML=S,b.mode=e,b.game="pair",h.forEach(function(e){e.setAttribute("data-mode",b.mode),e.setAttribute("data-game",b.game)});for(var t,r=e.split("x")[0],e=e.split("x")[1],n=(M(u),x(r,e),r),o=e,a=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),c=0;c<o*n/2;c++){for(var i="";!i&&A.length!==v.length;){var d=I(v);A.includes(d)||(i=d)}(function(e){var t=[];return t.push(j(e)),t.push(j(e)),A.push(e),t})(i).forEach(function(t){w(a).forEach(function(e){""===e.innerHTML&&e.appendChild(t)})})}(t=document.querySelectorAll(".card")).forEach(function(e){e.classList.add("_opened-deg")}),setTimeout(function(){t.forEach(function(e){e.classList.remove("_opened-deg")}),document.querySelectorAll(".card").forEach(function(e){e.addEventListener("click",function(){this.classList.add("_opened-deg"),""===T.coords&&""===T.img?(T.coords=this.parentNode.getAttribute("data-coords"),T.img=this.querySelector(".card-content").innerHTML,T.elem=this):(s.style.pointerEvents="none",k.coords=this.parentNode.getAttribute("data-coords"),k.img=this.querySelector(".card-content").innerHTML,k.elem=this,T.coords===k.coords?s.style.pointerEvents="auto":setTimeout(function(){T.img===k.img&&T.coords!==k.coords?(T.elem.classList.add("_finded"),k.elem.classList.add("_finded"),T.coords="",T.img="",k.coords="",k.img="",++q===_&&(s.classList.add("area-hide"),setTimeout(function(){M(m)},500))):([T.elem,k.elem].forEach(function(e){e.classList.remove("_opened-deg")}),T.coords="",T.img="",k.coords="",k.img="",O(),0===S&&M(l)),s.style.pointerEvents="auto"},800))})})},3e3)}function H(e){s.innerHTML="",A=[],E=[],S=3,s.classList.remove("area-hide"),f.innerHTML=S,b.mode=e,b.game="sequence",h.forEach(function(e){e.setAttribute("data-mode",b.mode),e.setAttribute("data-game",b.game)});for(var r,t=e.split("x")[0],e=e.split("x")[1],n=(i.forEach(function(e){return e.classList.remove("_hidden")}),M(u),x(t,e),t),o=e,a=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),c=0;c<o*n;c++)!function(){for(var e="";!e&&A.length!==v.length;){var t=I(v);A.includes(t)||A.push(e=t)}var r=j(e);a.forEach(function(e){""===e.innerHTML&&e.appendChild(r)})}();document.querySelectorAll(".card").forEach(function(e){return e.classList.add("_opened")}),w(r=_toConsumableArray(document.querySelectorAll(".cell[data-coords]"))).forEach(function(e,t){setTimeout(function(){e.children[0].classList.add("_pathed"),E.push(e.getAttribute("data-coords"))},1e3*t)}),setTimeout(function(){var e,t;r.forEach(function(e){return e.children[0].classList.remove("_pathed")}),e=_toConsumableArray(document.querySelectorAll(".cell[data-coords]")),t=0,e.forEach(function(e){e.addEventListener("click",function(){e.getAttribute("data-coords")===E[t]?(e.children[0].classList.add("_pathed"),++t===E.length&&setTimeout(function(){M(m)},500)):(e.children[0].classList.add("_error"),O(),setTimeout(function(){e.children[0].classList.remove("_error")},500),0===S&&M(l))})})},1e3*r.length+500)}function j(e){var t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");return t.classList.add("card"),r.classList.add("card-front"),n.classList.add("card-back"),o.classList.add("card-content"),o.innerHTML=e,r.appendChild(o),t.appendChild(r),t.appendChild(n),t}function I(e){return e[Math.floor(Math.random()*e.length)]}function w(e){for(var t,r,n=e.length-1;0<n;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e}function x(e,t){for(var r=e*t,n=(_=r/2,11<r?"cell-xs":6<r?"cell-sm":"cell-md"),o=0;o<e;o++){var a=document.createElement("div");a.classList.add("row");for(var c=0;c<t;c++){var i=document.createElement("div");i.classList.add("cell"),i.classList.add(n),i.setAttribute("data-coords",o+1+"-"+(c+1)),a.appendChild(i)}s.appendChild(a)}}function O(){f.innerHTML=--S,f.classList.add("_break"),setTimeout(function(){f.classList.remove("_break")},1e3)}a.forEach(function(e){e.addEventListener("click",function(){return M(r)})}),i.forEach(function(e){e.addEventListener("click",function(){return M(t)})}),h.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-mode"),e=e.target.getAttribute("data-game");console.log(t,e),"pair"===e&&C(t),"sequence"===e&&H(t)})}),c.addEventListener("click",function(){return M(e)}),d.addEventListener("click",function(){return M(n)}),p.addEventListener("click",function(){return M(o)}),y.forEach(function(e){e.addEventListener("click",function(e){C(e.target.getAttribute("data-mode"))})}),g.forEach(function(e){e.addEventListener("click",function(e){H(e.target.getAttribute("data-mode"))})})});